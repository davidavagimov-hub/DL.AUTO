<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DL.AUTO - Catalogue</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'argent': '#C0C0C0',
            'jaune': '#FFD700',
            'noir': '#000000'
          }
        }
      }
    }
  </script>
</head>
<body class="bg-gray-900 text-white">
  <!-- Header -->
  <header class="bg-black shadow-lg sticky top-0 z-50 border-b-2 border-jaune">
    <div class="container mx-auto px-4 py-4 flex justify-between items-center">
      <a href="index.html" class="flex items-center hover:opacity-80 transition">
        <div class="text-2xl font-black text-white mr-2">‚óÜ</div>
        <h1 class="text-3xl font-black text-argent">DL.<span class="text-jaune">AUTO</span></h1>
      </a>
      <a href="tel:+33612345678" class="bg-jaune text-black px-6 py-2 rounded-lg font-bold hover:bg-yellow-500 transition">üìû Appeler</a>
    </div>
  </header>

  <div class="container mx-auto px-4 py-8 flex flex-col lg:flex-row gap-8">
    <!-- Filtres -->
    <aside class="w-full lg:w-80 bg-black p-6 rounded-lg shadow-lg h-fit lg:sticky lg:top-24 border border-jaune">
      <h3 class="text-xl font-bold mb-6 text-jaune">üîç Filtres</h3>
      
      <div class="mb-6">
        <label class="block text-sm font-medium mb-2 text-argent">Marque</label>
        <select id="filterMake" class="w-full bg-gray-800 border-2 border-jaune p-3 rounded-lg text-white focus:border-yellow-500 transition">
          <option value="">Toutes les marques</option>
        </select>
      </div>

      <div class="mb-6">
        <label class="block text-sm font-medium mb-2 text-argent">Prix, ‚Ç¨</label>
        <input type="number" id="priceFrom" placeholder="Prix min (‚Ç¨)" class="w-full bg-gray-800 border-2 border-jaune p-3 rounded-lg text-white mb-2 focus:border-yellow-500 transition" value="0">
        <input type="number" id="priceTo" placeholder="Prix max (‚Ç¨)" class="w-full bg-gray-800 border-2 border-jaune p-3 rounded-lg text-white focus:border-yellow-500 transition">
      </div>

      <div class="mb-6">
        <label class="block text-sm font-medium mb-2 text-argent">Ann√©e</label>
        <input type="number" id="yearFrom" placeholder="Ann√©e min" class="w-full bg-gray-800 border-2 border-jaune p-3 rounded-lg text-white mb-2 focus:border-yellow-500 transition" value="2000">
        <input type="number" id="yearTo" placeholder="Ann√©e max" class="w-full bg-gray-800 border-2 border-jaune p-3 rounded-lg text-white focus:border-yellow-500 transition">
      </div>

      <button onclick="applyFilters()" class="w-full bg-jaune text-black py-3 rounded-lg font-bold hover:bg-yellow-500 transition">
        Appliquer
      </button>
      <button onclick="resetFilters()" class="w-full mt-3 bg-gray-700 text-white py-3 rounded-lg font-bold hover:bg-gray-600 transition">
        R√©initialiser
      </button>
    </aside>

    <!-- Grille des voitures -->
    <main class="flex-1">
      <div class="flex justify-between items-center mb-6">
        <h1 class="text-3xl font-bold text-argent">üöó Catalogue des v√©hicules</h1>
        <span id="resultsCount" class="text-argent font-medium"></span>
      </div>
      <div id="carsGrid" class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6"></div>
      <div id="noResults" class="hidden text-center py-20 text-argent">
        <div class="text-6xl mb-4">üîé</div>
        <h3 class="text-2xl font-bold mb-2">Aucun v√©hicule trouv√©</h3>
        <p>Essayez de modifier les filtres</p>
      </div>
    </main>
  </div>

  <script>
    const cars = [
      {
        id: "001",
        make: "Hyundai",
        model: "Getz",
        year: 2006,
        price: 3990,
        mileage: 218000,
        city: "Paris",
        engine: "1.5 diesel",
        transmission: "m√©canique",
        body: "citadine",
        color: "noir",
        description: "Excellent √©tat, bien entretenu, carnet d'entretien complet.",
        photos: [
          "images/Hyundai-Getz-2006/1.jpg",
          "images/Hyundai-Getz-2006/2.jpg",
          "images/Hyundai-Getz-2006/3.jpg",
          "images/Hyundai-Getz-2006/4.jpg",
          "images/Hyundai-Getz-2006/5.jpg"
        ],
        contactPhone: "+33 6 12 34 56 78",
        contactWhatsApp: "33612345678"
      }
    ];

    let filteredCars = [...cars];

    window.onload = function() {
      renderFilters();
      checkURLParams();
      renderCars();
    };

    function renderFilters() {
      const makes = [...new Set(cars.map(car => car.make))].sort();
      const select = document.getElementById('filterMake');
      makes.forEach(make => {
        select.innerHTML += `<option value="${make}">${make}</option>`;
      });
    }

    function checkURLParams() {
      const params = new URLSearchParams(window.location.search);
      const search = params.get('search');
      const make = params.get('make');
      
      if (search) {
        filteredCars = cars.filter(car => 
          car.make.toLowerCase().includes(search.toLowerCase()) ||
          car.model.toLowerCase().includes(search.toLowerCase())
        );
        document.getElementById('mainSearch')?.setAttribute('value', search);
      } else if (make) {
        filteredCars = cars.filter(car => car.make === make);
        document.getElementById('filterMake').value = make;
      }
    }

    function renderCars(carsToShow = filteredCars) {
      const grid = document.getElementById('carsGrid');
      const count = document.getElementById('resultsCount');
      const noResults = document.getElementById('noResults');
      
      if (filteredCars.length === 0) {
        grid.style.display = 'none';
        noResults.classList.remove('hidden');
      } else {
        grid.style.display = 'grid';
        noResults.classList.add('hidden');
        grid.innerHTML = carsToShow.map(car => `
          <div class="bg-black rounded-lg shadow-lg hover:shadow-yellow-500/25 transition border border-jaune">
            <img src="${car.photos[0]}" class="w-full h-48 object-cover rounded-t-lg border-b border-jaune">
            <div class="p-4">
              <h3 class="font-bold text-xl text-argent mb-2">${car.make} ${car.model}</h3>
              <p class="text-gray-400">${car.year} ‚Ä¢ ${car.mileage.toLocaleString()} km</p>
              <p class="text-2xl font-bold text-jaune mt-2">${car.price.toLocaleString()} ‚Ç¨</p>
              <p class="text-sm text-gray-500">üìç ${car.city}</p>
              <a href="car.html?id=${car.id}" class="block mt-4 bg-jaune text-black text-center py-2 rounded-lg font-bold hover:bg-yellow-500 transition">
                D√©tails ‚Üí
              </a>
            </div>
          </div>
        `).join('');
      }
      
      count.textContent = `Trouv√©: ${filteredCars.length} v√©hicule(s)`;
    }

    function applyFilters() {
      const make = document.getElementById('filterMake').value;
      const priceFrom = document.getElementById('priceFrom').value;
      const priceTo = document.getElementById('priceTo').value;
      const yearFrom = document.getElementById('yearFrom').value;
      const yearTo = document.getElementById('yearTo').value;
      
      filteredCars = cars.filter(car => {
        if (make && car.make !== make) return false;
        if (priceFrom && car.price < +priceFrom) return false;
        if (priceTo && car.price > +priceTo) return false;
        if (yearFrom && car.year < +yearFrom) return false;
        if (yearTo && car.year > +yearTo) return false;
        return true;
      });
      
      renderCars();
    }

    function resetFilters() {
      document.getElementById('filterMake').value = '';
      document.getElementById('priceFrom').value = '';
      document.getElementById('priceTo').value = '';
      document.getElementById('yearFrom').value = '';
      document.getElementById('yearTo').value = '';
      filteredCars = [...cars];
      renderCars();
    }

    function quickSearch() {
      const query = document.getElementById('mainSearch').value;
      if (query.trim()) {
        window.location.href = `catalog.html?search=${encodeURIComponent(query)}`;
      } else {
        window.location.href = 'catalog.html';
      }
    }

    function filterByBrand(brand) {
      window.location.href = `catalog.html?make=${encodeURIComponent(brand)}`;
    }
  </script>
</body>
</html>